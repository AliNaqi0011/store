import{_ as x,k as _,r as f,o as r,c as d,b as e,l as c,m,t as a,e as g,w as y,d as b,F as p,h as v}from"./index-2221eb74.js";const w={name:"ProductCard",props:{product:{type:Object,required:!0}},data(){return{inWishlist:!1}},setup(){return{cartStore:_()}},methods:{getImageUrl(o){return o.primary_image&&o.primary_image!==null&&o.primary_image!==""?o.primary_image.startsWith("/storage/")?`http://127.0.0.1:8000${o.primary_image}`:o.primary_image:`https://dummyimage.com/400x300/4f46e5/ffffff&text=${encodeURIComponent(o.name||"Product")}`},handleImageError(o){const s=`https://dummyimage.com/400x300/4f46e5/ffffff&text=${encodeURIComponent(this.product.name)}`;if(o.target.src.includes("dummyimage.com")){const t=document.createElement("canvas");t.width=400,t.height=300;const i=t.getContext("2d");i.fillStyle="#f3f4f6",i.fillRect(0,0,400,300),i.fillStyle="#374151",i.font="16px Arial",i.textAlign="center",i.textBaseline="middle",i.fillText(this.product.name,200,150),o.target.src=t.toDataURL()}else o.target.src=s},async addToCart(o){try{await this.cartStore.addItem(this.product.id,null,1),this.$emit("added-to-cart",this.product);const s=o.target,t=s.innerHTML;s.innerHTML='<i class="fas fa-check mr-2"></i><span class="hidden sm:inline">Added!</span><span class="sm:hidden">âœ“</span>',s.classList.add("bg-green-600"),setTimeout(()=>{s.innerHTML=t,s.classList.remove("bg-green-600")},2e3)}catch{alert("Failed to add item to cart. Please try again.")}},toggleWishlist(){this.inWishlist=!this.inWishlist}}},k={class:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden"},C={class:"relative overflow-hidden"},T=["src","alt"],S={class:"absolute top-4 left-4 flex flex-col gap-2"},E={key:0,class:"px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold rounded-full"},I={key:1,class:"px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full"},L={class:"absolute top-3 md:top-4 right-3 md:right-4 flex flex-col gap-2 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity"},W={class:"absolute bottom-3 md:bottom-4 left-3 md:left-4 right-3 md:right-4 opacity-100 md:opacity-0 group-hover:opacity-100 transition-all transform translate-y-0 md:translate-y-4 group-hover:translate-y-0"},A=["disabled"],U={class:"hidden sm:inline"},j={class:"sm:hidden"},F={class:"p-4 md:p-6"},O={class:"flex items-center justify-between mb-2"},P={class:"text-xs md:text-sm text-blue-600 font-medium truncate"},q={key:0,class:"text-xs md:text-sm text-gray-500 truncate ml-2"},M={class:"font-bold text-base md:text-lg text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors"},R={class:"text-gray-600 text-xs md:text-sm mb-3 md:mb-4 line-clamp-2"},B={class:"flex items-center mb-3 md:mb-4"},N={class:"flex text-yellow-400 mr-2"},V={class:"text-xs md:text-sm text-gray-500"},D={class:"ml-auto"},H={key:0,class:"text-xs text-red-500 font-medium"},z={key:1,class:"text-xs text-orange-500 font-medium hidden sm:inline"},G={key:2,class:"text-xs text-orange-500 font-medium sm:hidden"},J={class:"flex items-center justify-between"},K={class:"flex items-center space-x-1 md:space-x-2"},Q={class:"text-lg md:text-2xl font-bold text-gray-900"},X={key:0,class:"text-sm md:text-lg text-gray-500 line-through"},Y={key:0,class:"text-xs md:text-sm font-bold text-green-600"};function Z(o,s,t,i,u,l){const h=f("router-link");return r(),d("div",k,[e("div",C,[e("img",{src:l.getImageUrl(t.product),alt:t.product.name,onError:s[0]||(s[0]=(...n)=>l.handleImageError&&l.handleImageError(...n)),class:"w-full h-48 md:h-64 object-cover group-hover:scale-110 transition-transform duration-500"},null,40,T),e("div",S,[t.product.is_featured?(r(),d("span",E," FEATURED ")):c("",!0),t.product.compare_price?(r(),d("span",I," SALE ")):c("",!0)]),e("div",L,[e("button",{onClick:s[1]||(s[1]=(...n)=>l.toggleWishlist&&l.toggleWishlist(...n)),class:"w-8 h-8 md:w-10 md:h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:bg-white transition-colors"},[e("i",{class:m(["fas fa-heart text-sm md:text-base",u.inWishlist?"text-red-500":"text-gray-400"])},null,2)]),s[3]||(s[3]=e("button",{class:"w-8 h-8 md:w-10 md:h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:bg-white transition-colors"},[e("i",{class:"fas fa-eye text-gray-600 text-sm md:text-base"})],-1))]),e("div",W,[e("button",{onClick:s[2]||(s[2]=(...n)=>l.addToCart&&l.addToCart(...n)),disabled:!t.product.in_stock,class:"w-full py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm md:text-base"},[s[4]||(s[4]=e("i",{class:"fas fa-cart-plus mr-2"},null,-1)),e("span",U,a(t.product.in_stock?"Add to Cart":"Out of Stock"),1),e("span",j,a(t.product.in_stock?"Add":"Out"),1)],8,A)])]),e("div",F,[e("div",O,[e("span",P,a(t.product.category),1),t.product.brand?(r(),d("span",q,a(t.product.brand),1)):c("",!0)]),e("h3",M,[g(h,{to:`/product/${t.product.slug}`},{default:y(()=>[b(a(t.product.name),1)]),_:1},8,["to"])]),e("p",R,a(t.product.short_description),1),e("div",B,[e("div",N,[(r(),d(p,null,v(5,n=>e("i",{key:n,class:m(["fas fa-star text-xs md:text-sm",n<=Math.floor(t.product.rating||4.5)?"text-yellow-400":"text-gray-300"])},null,2)),64))]),e("span",V,"("+a(t.product.reviews_count||0)+")",1),e("div",D,[t.product.in_stock?t.product.stock_quantity<10?(r(),d("span",z,"Only "+a(t.product.stock_quantity)+" left",1)):t.product.stock_quantity<10?(r(),d("span",G,a(t.product.stock_quantity)+" left",1)):c("",!0):(r(),d("span",H,"Out of Stock"))])]),e("div",J,[e("div",K,[e("span",Q,"$"+a(t.product.price),1),t.product.compare_price?(r(),d("span",X,"$"+a(t.product.compare_price),1)):c("",!0)]),t.product.compare_price?(r(),d("div",Y,a(Math.round((t.product.compare_price-t.product.price)/t.product.compare_price*100))+"% OFF ",1)):c("",!0)])])])}const tt=x(w,[["render",Z],["__scopeId","data-v-0b461b17"]]);export{tt as P};
